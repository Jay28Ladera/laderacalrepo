<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Number Systems Program</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">

    <!-- ===== HOME PAGE ===== -->
    <section id="homePage" class="panel" style="display:block">
      <div class="hero">
        <h1>Number Systems Toolkit</h1>
        <p class="subtitle">Convert numbers, add in any base, and try a simple secret-code translator.</p>
        <div class="actions">
          <button class="primary" onclick="goToMenu()">Start</button>
        </div>
      </div>
    </section>

    <!-- ===== MENU PAGE ===== -->
    <section id="menuPage" class="panel">
      <h1>Number System Menu</h1>
      <div class="menu">
        <button onclick="openPage('p1')">1) Decimal → Bin/Oct/Hex</button>
        <button onclick="openPage('p2')">2) Bin/Oct/Hex → Decimal</button>
        <button onclick="openPage('p3')">3) Add Two Numbers (any base)</button>
        <button onclick="openPage('p4')">4) Secret Code (Encode)</button>
        <button onclick="openPage('p5')">5) Secret Code (Decode)</button>
        <button onclick="exitToHome()">6) Exit</button>
      </div>
    </section>

    <!-- ===== OPTION 1 ===== -->
    <section id="p1" class="panel">
      <h2>Decimal → Bin/Oct/Hex</h2>
      <input id="decInput" type="number" placeholder="Enter decimal number" />
      <div class="actions">
        <button class="primary" onclick="convertDecimal()">Convert</button>
      </div>
      <pre id="decOut" class="output"></pre>
      <div class="footer-actions">
        <button class="secondary" onclick="backToMenu()">Back to Menu</button>
      </div>
    </section>

    <!-- ===== OPTION 2 ===== -->
    <section id="p2" class="panel">
      <h2>Bin/Oct/Hex → Decimal</h2>
      <div class="grid">
        <input id="convNum" type="text" placeholder="Enter number" />
        <select id="convBase">
          <option value="2">Binary (2)</option>
          <option value="8">Octal (8)</option>
          <option value="16">Hex (16)</option>
        </select>
      </div>
      <div class="actions">
        <button class="primary" onclick="toDecimal()">Convert</button>
      </div>
      <pre id="convOut" class="output"></pre>
      <div class="footer-actions">
        <button class="secondary" onclick="backToMenu()">Back to Menu</button>
      </div>
    </section>

    <!-- ===== OPTION 3 ===== -->
    <section id="p3" class="panel">
      <h2>Add Two Numbers (any base)</h2>
      <div class="grid">
        <input id="n1" type="text" placeholder="First number" />
        <input id="b1" type="number" placeholder="Base (2/8/10/16)" />
        <input id="n2" type="text" placeholder="Second number" />
        <input id="b2" type="number" placeholder="Base (2/8/10/16)" />
      </div>
      <div class="actions">
        <button class="primary" onclick="addAnyBase()">Add</button>
      </div>
      <pre id="addOut" class="output"></pre>
      <div class="footer-actions">
        <button class="secondary" onclick="backToMenu()">Back to Menu</button>
      </div>
    </section>

    <!-- ===== OPTION 4 ===== -->
    <section id="p4" class="panel">
      <h2>Secret Code Translator (Encode)</h2>
      <textarea id="encMsg" rows="3" placeholder="Enter message"></textarea>
      <input id="encKey" type="number" placeholder="Secret key (decimal)" />
      <div class="actions">
        <button class="primary" onclick="encodeMsg()">Encode</button>
      </div>
      <pre id="encOut" class="output"></pre>
      <div class="footer-actions">
        <button class="secondary" onclick="backToMenu()">Back to Menu</button>
      </div>
    </section>

    <!-- ===== OPTION 5 ===== -->
    <section id="p5" class="panel">
      <h2>Secret Code Translator (Decode)</h2>
      <textarea id="decMsg" rows="3" placeholder="Comma-separated decimals"></textarea>
      <input id="decKey" type="number" placeholder="Secret key (decimal)" />
      <div class="actions">
        <button class="primary" onclick="decodeMsg()">Decode</button>
      </div>
      <pre id="decOut2" class="output"></pre>
      <div class="footer-actions">
        <button class="secondary" onclick="backToMenu()">Back to Menu</button>
      </div>
    </section>

  </div>

  <script>
    // ===== NAV =====
    function hideAll(){ document.querySelectorAll('.panel').forEach(p=>p.style.display='none'); }
    function goToHome(){ hideAll(); document.getElementById('homePage').style.display='block'; }
    function goToMenu(){ hideAll(); document.getElementById('menuPage').style.display='block'; }
    function openPage(id){ hideAll(); document.getElementById(id).style.display='block'; }
    function backToMenu(){ goToMenu(); }
    function exitToHome(){ goToHome(); }

    // ===== VALIDATION =====
    const validDigits=(s,base)=>{
      const re={2:/^[01]+$/i,8:/^[0-7]+$/i,10:/^[0-9]+$/i,16:/^[0-9a-f]+$/i}[base];
      return re?re.test(s):false;
    };

    // ===== OPTION 1 =====
    function convertDecimal(){
      const val=document.getElementById('decInput').value.trim();
      const out=document.getElementById('decOut');
      out.classList.remove('success','error');
      if(!val){ out.textContent="Enter a decimal number."; out.classList.add('error'); return; }
      const n=Number(val);
      if(!Number.isInteger(n)||n<0){ out.textContent="Enter a valid non-negative integer."; out.classList.add('error'); return; }
      out.textContent=`Decimal: ${n}
Binary : ${n.toString(2)}
Octal  : ${n.toString(8)}
Hex    : ${n.toString(16).toUpperCase()}`;
      out.classList.add('success');
    }

    // ===== OPTION 2 =====
    function toDecimal(){
      const s=document.getElementById('convNum').value.trim();
      const b=Number(document.getElementById('convBase').value);
      const out=document.getElementById('convOut');
      out.classList.remove('success','error');
      if(!s){ out.textContent="Enter a number."; out.classList.add('error'); return; }
      if(!validDigits(s,b)){ out.textContent=`Invalid digits for base ${b}.`; out.classList.add('error'); return; }
      const dec=parseInt(s,b);
      out.textContent=`Input: ${s} (base ${b})
Decimal: ${dec}`;
      out.classList.add('success');
    }

    // ===== OPTION 3 =====
    function addAnyBase(){
      const n1=document.getElementById('n1').value.trim();
      const n2=document.getElementById('n2').value.trim();
      const b1=Number(document.getElementById('b1').value);
      const b2=Number(document.getElementById('b2').value);
      const out=document.getElementById('addOut');
      out.classList.remove('success','error');
      if(!validDigits(n1,b1)){ out.textContent=`First invalid in base ${b1}`; out.classList.add('error'); return; }
      if(!validDigits(n2,b2)){ out.textContent=`Second invalid in base ${b2}`; out.classList.add('error'); return; }
      const d1=parseInt(n1,b1), d2=parseInt(n2,b2), sum=d1+d2;
      out.textContent=`Result:
Decimal: ${sum}
Binary : ${sum.toString(2)}
Octal  : ${sum.toString(8)}
Hex    : ${sum.toString(16).toUpperCase()}`;
      out.classList.add('success');
    }

    // ===== OPTION 4 =====
    function encodeMsg(){
      const msg=document.getElementById('encMsg').value;
      const key=Number(document.getElementById('encKey').value);
      const out=document.getElementById('encOut');
      out.classList.remove('success','error');
      if(!msg){ out.textContent="Enter a message."; out.classList.add('error'); return; }
      if(isNaN(key)){ out.textContent="Enter a valid decimal key."; out.classList.add('error'); return; }
      const decs=[], hexs=[];
      for(const ch of msg){ const code=ch.charCodeAt(0)+key; decs.push(code); hexs.push('0x'+code.toString(16).toUpperCase()); }
      out.textContent=`Encoded (decimal): [${decs.join(', ')}]
Encoded (hex): [${hexs.join(', ')}]`;
      out.classList.add('success');
    }

    // ===== OPTION 5 =====
    function decodeMsg(){
      const input=document.getElementById('decMsg').value.trim();
      const key=Number(document.getElementById('decKey').value);
      const out=document.getElementById('decOut2');
      out.classList.remove('success','error');
      if(!input){ out.textContent="Enter encoded decimal values (comma-separated)."; out.classList.add('error'); return; }
      if(isNaN(key)){ out.textContent="Enter a valid key."; out.classList.add('error'); return; }
      const parts=input.split(',').map(s=>s.trim()).filter(Boolean);
      let msg="";
      for(const p of parts){ const v=Number(p); if(isNaN(v)){ out.textContent=`Invalid number: ${p}`; out.classList.add('error'); return; } msg+=String.fromCharCode(v-key); }
      out.textContent=`Decoded Message: ${msg}`;
      out.classList.add('success');
    }
  </script>
</body>
</html>
